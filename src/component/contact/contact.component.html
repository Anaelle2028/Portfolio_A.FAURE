<app-header></app-header>

<div class="contact-container">
  <section class="hero-section">
    <h1>Contactez-moi</h1>
    <p class="subtitle">
      N'hésitez pas à me contacter pour toute opportunité ou collaboration
    </p>
  </section>

  <div class="contact-content">
    <section class="contact-info">
      <h2>Informations de contact</h2>
      <div class="info-card">
        <p class="info-item">
          <span class="icon">📧</span>
          <a href="mailto:anaelle.faure@epitech.eu"
            >anaelle.faure&#64;epitech.eu</a
          >
        </p>
        <p class="info-item">
          <span class="icon">📍</span>
          <span>France</span>
        </p>
        <p class="info-item">
          <span class="icon">🎓</span>
          <span>Étudiante à Epitech</span>
        </p>
      </div>

      <h3>Réseaux sociaux</h3>
      <div class="social-links">
        @for (link of socialLinks; track link.name) {
        <a
          [href]="link.url"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
        >
          <span class="social-icon">{{ link.icon }}</span>
          <span>{{ link.name }}</span>
        </a>
        }
      </div>
    </section>

    <section class="contact-form-section">
      <h2>Envoyez-moi un message</h2>

      @if (successMessage) {
      <div class="success-message">
        {{ successMessage }}
      </div>
      }

      <form
        [formGroup]="contactForm"
        (ngSubmit)="onSubmit()"
        class="contact-form"
      >
        <div class="form-group">
          <label for="name">Nom complet</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            placeholder="Votre nom"
            [class.error]="submitted && f['name'].errors"
          />
          @if (submitted && f['name'].errors) {
          <div class="error-message">
            @if (f['name'].errors['required']) {
            <span>Le nom est requis</span>
            } @if (f['name'].errors['minlength']) {
            <span>Le nom doit contenir au moins 2 caractères</span>
            }
          </div>
          }
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="votre.email@exemple.com"
            [class.error]="submitted && f['email'].errors"
          />
          @if (submitted && f['email'].errors) {
          <div class="error-message">
            @if (f['email'].errors['required']) {
            <span>L'email est requis</span>
            } @if (f['email'].errors['email']) {
            <span>Veuillez entrer un email valide</span>
            }
          </div>
          }
        </div>

        <div class="form-group">
          <label for="subject">Sujet</label>
          <input
            type="text"
            id="subject"
            formControlName="subject"
            placeholder="Sujet de votre message"
            [class.error]="submitted && f['subject'].errors"
          />
          @if (submitted && f['subject'].errors) {
          <div class="error-message">
            @if (f['subject'].errors['required']) {
            <span>Le sujet est requis</span>
            } @if (f['subject'].errors['minlength']) {
            <span>Le sujet doit contenir au moins 5 caractères</span>
            }
          </div>
          }
        </div>

        <div class="form-group">
          <label for="message">Message</label>
          <textarea
            id="message"
            formControlName="message"
            rows="6"
            placeholder="Écrivez votre message ici..."
            [class.error]="submitted && f['message'].errors"
          ></textarea>
          @if (submitted && f['message'].errors) {
          <div class="error-message">
            @if (f['message'].errors['required']) {
            <span>Le message est requis</span>
            } @if (f['message'].errors['minlength']) {
            <span>Le message doit contenir au moins 10 caractères</span>
            }
          </div>
          }
        </div>

        <button type="submit" class="submit-btn">Envoyer le message</button>
      </form>
    </section>
  </div>
</div>
